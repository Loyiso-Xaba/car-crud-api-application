<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Most popular car</title>
    <script defer src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
    <link rel="stylesheet" href="style.css">

</head>

<body x-data="popularMake">
    <h1 style="text-align: center;">Car Archive</h1>
    <div class="border">
        <h3>Western Cape Province Registration Codes</h3>
        <ul>
            <li>Malmesbury ('CK')</li>
            <li>Paarl ('CJ')</li>
            <li>Cape Town ('CA')</li>
            <li>Kuilsriver ('CF')</li>
            <li>Bellville ('CY')</li>
            <li>Stellenbosch ('CL')</li>
            
           
        </ul>
    </div>  

    <div class="border">
        <h4>Display Requested cars</h4>
        <div class="dropdown" x-data="{ showCars: true }">
            <button 
            @click="showCars = !showCars; if (showCars) showCars();" class="color-button">Display or Hide</button>
            <template x-if="showCars">
                <table>
                    <thead>
                        <tr>
                            <th>Colour</th>
                            <th>Make</th>
                            <th>Model</th>
                            <th>Registration</th>
                        </tr>
                    </thead>
                    <tbody>
                        <template x-for="car in cars" :key="car.reg_number">
                            <tr>
                                <td x-text="car.color"></td>
                                <td x-text="car.make"></td>
                                <td x-text="car.model"></td>
                                <td x-text="car.reg_number"></td>
                            </tr>
                        </template>
                    </tbody>
                </table>
            </template>
        </div>
    </div>

    <div class="border">
        <h4>Most Popular Make</h4>
        <button @click="findMostPopularCar" class="color-button">Search</button>
        <p x-text="popularMake"></p>
    </div>

    <div class="border">
        <h4>New Car Addition</h4>
        <div>
            <label for="color">Paint job:</label>
            <input id="color" type="text" x-model="newCar.color" class="button">
        </div>
        <div>
            <label for="make">Make:</label>
            <input id="make" type="text" x-model="newCar.make" class="button">
        </div>
        <div>
            <label for="model">Model:</label>
            <input id="model" type="text" x-model="newCar.model" class="button">
        </div>
        <div>
            <label for="reg_number">Registration:</label>
            <input id="reg_number" type="text" x-model="newCar.reg_number" class="button">
        </div>
        <button @click="addNewCar" class="color-button">Add New Car</button>
        <p x-text="addMessage" :class="messageType === 'success' ? 'success' : 'error'"></p>
    </div>

    <div class="border">
        <h4>CAR DELETION</h4>
        Registration: <input type="text" x-model="deleteCar.reg_number" class="button">
        <button @click="deleteCarEntry" class="color-button">Delete Car</button>
        <p x-text="deleteMessage" :class="deleteMessageType === 'success' ? 'success' : 'error'"></p>
    </div>

    <script src="./app.js"></script>
</body>

</html>